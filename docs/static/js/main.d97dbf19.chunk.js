(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{107:function(e,t,a){},114:function(e,t,a){},182:function(e,t,a){},187:function(e,t,a){},194:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},199:function(e,t,a){},217:function(e,t,a){"use strict";a.r(t);var c=a(13),n=a.n(c),r=a(11),i=a(0),s=a(253),o=a(256),l=a(57),j=a(132),b=a.n(j),d=a(257),m=a(20),u=a(3),h=Object(i.createContext)(),p=function(e){var t=e.reducer,a=e.initialState,c=e.children;return Object(u.jsx)(h.Provider,{value:Object(i.useReducer)(t,a),children:c})},O=function(){return Object(i.useContext)(h)},x=a(96),g=(x.a.initializeApp({apiKey:"AIzaSyACXrZzGCdQcLV8AZCrOEHLDtvn2wGmyd4",authDomain:"calidad-ecommerce.firebaseapp.com",projectId:"calidad-ecommerce",storageBucket:"calidad-ecommerce.appspot.com",messagingSenderId:"782794406271",appId:"1:782794406271:web:4f9de1e4db36810036c24a",measurementId:"G-TSV5FX38NQ"}),x.a.auth()),f=a(25),v=a(24),y="ADD_TO_BASKET",S="REMOVE_ITEM",N="SET_USER",_="EMPTY_BASKET",k="SET_SHIPPING_DATA",C="SET_PAYMENT_MESSAGE",w=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.precio+e}),0)},E=function(e,t){switch(t.type){case"ADD_TO_BASKET":return Object(v.a)(Object(v.a)({},e),{},{basket:[].concat(Object(f.a)(e.basket),[t.item])});case"REMOVE_ITEM":var a=e.basket.findIndex((function(e){return e.id===t.id})),c=Object(f.a)(e.basket);return a>=0?c.splice(a,1):console.log("no se puede eliminar el producto"),Object(v.a)(Object(v.a)({},e),{},{basket:c});case"SET_USER":return Object(v.a)(Object(v.a)({},e),{},{user:t.user});case"EMPTY_BASKET":return Object(v.a)(Object(v.a)({},e),{},{basket:t.basket});case"SET_SHIPPING_DATA":return Object(v.a)(Object(v.a)({},e),{},{shippingData:t.shippingData});case"SET_PAYMENT_MESSAGE":return Object(v.a)(Object(v.a)({},e),{},{paymentMessage:t.paymentMessage});default:return e}},I=a(22),T=a(23),A=a.n(T),P=a(86),R=(a(107),[{target:".navbar-brand",content:"Press Alt+A to back to home"},{target:".signInbtn",content:"To Sign In press ALT+S"},{target:".cartbtn",content:"Go to cart press ALT+C"},{target:".footer",content:"Our social media"}]),M=function(){var e=O(),t=Object(r.a)(e,2),a=t[0],c=a.basket,n=a.user,i=t[1],j=Object(I.f)(),h=R;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(P.a,{steps:h,continuous:!0,showProgress:!0,showSkipButton:!0}),Object(u.jsx)(s.a,{position:"static",children:Object(u.jsxs)(o.a,{children:[Object(u.jsx)("div",{className:"eco-whats",children:Object(u.jsx)(m.b,{accessKey:"a",title:"(Alt+A)=HOME",exact:{exact:!0},className:"navbar-brand",to:"/ecommerce-React/",children:Object(u.jsx)(l.a,{variant:"h6",children:"Ecommerce"})})}),Object(u.jsx)("h3",{children:n?"Welcome":""}),Object(u.jsxs)("div",{className:"header-navbar__buttons",children:[n?Object(u.jsx)(m.b,{exact:{exact:!0},to:"/ecommerce-React/login",accessKey:"s","aria-label":"Sign Out",title:"(Alt+S)=Sign Out",className:"btn btn-secondary",onClick:function(){n&&(g.signOut(),i({type:_,basket:[]}),i({type:N,user:null}),j.push("/ecommerce-React/")),A()({title:"Sign Out",text:"Good bye",icon:"success",button:"OK",timer:"2000"})},children:Object(u.jsx)("strong",{children:"Sign Out"})}):Object(u.jsx)(m.b,{exact:{exact:!0},to:"/ecommerce-React/login",accessKey:"s","aria-label":"Sign in",title:"(Alt+S)=Sign in",className:"btn btn-secondary signInbtn",children:Object(u.jsx)("strong",{children:"Sign In"})}),Object(u.jsx)(m.b,{className:"btn btn-outline cartbtn",accessKey:"c","aria-label":"Go to Cart",title:"(Alt+C)=Go to Cart",exact:{exact:!0},to:"/ecommerce-React/paycart",children:Object(u.jsx)(d.a,{badgeContent:null===c||void 0===c?void 0:c.length,color:"secondary",children:Object(u.jsx)(b.a,{fontSize:"large",color:"primary"})})})]})]})})]})},D=(a(182),function(e){var t=e.setFiltro,a=Object(i.useState)([""]),c=Object(r.a)(a,2),n=c[0],s=c[1],o=function(e){var t=e.target;s(t.value)};return Object(u.jsxs)("form",{className:"btns-filtro",onSubmit:function(e){e.preventDefault(),t([n])},children:[Object(u.jsx)("button",{className:"btn btn-primary btn-lg animate__fadeInUp",onClick:o,type:"submit",id:"jewelery",value:"jewelery",name:"jewelery","aria-label":"Jewelery",children:"Jewelery"}),Object(u.jsx)("button",{"aria-label":"Electronics",className:"btn btn-primary btn-lg animate__fadeInUp",onClick:o,type:"submit",id:"electronics",value:"electronics",name:"electronics",children:"Electronics"}),Object(u.jsx)("button",{"aria-label":"men's clothing",className:"btn btn-primary btn-lg animate__fadeInUp",onClick:o,type:"submit",id:"menClotes",value:"men's clothing",name:"menClothes",children:"Men's"}),Object(u.jsx)("button",{"aria-label":"women's clothing",className:"btn btn-primary btn-lg animate__fadeInUp",onClick:o,type:"submit",id:"womenClotes",value:"women's clothing",name:"womenClothes",children:"Women's"})]})}),q=a(37),F=a(261),W=a(7),B=a(262),K=a(258),U=a(263),L=a(259),G=a(134),z=a.n(G),Y=a(133),V=a.n(Y),H=a(16),X=a.n(H),J=a(31),Q=function(){var e=Object(J.a)(X.a.mark((function e(t){var a,c,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://fakestoreapi.com/products/",e.next=3,fetch("https://fakestoreapi.com/products/");case 3:return a=e.sent,e.next=6,a.json();case 6:return c=e.sent,n=c.map((function(e){return{categoria:e.category,desc:e.description,id:e.id,img:e.image,precio:e.price,titulo:e.title}})),e.abrupt("return",n.filter((function(e){return e.categoria===t[0]})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=a(41),$=a.n(Z),ee=function(){return Object(u.jsxs)("div",{className:"card-content animate__animated",children:[Object(u.jsx)("br",{}),Object(u.jsx)(Z.SkeletonTheme,{color:"#2d3556",highlightColor:"#38c9e5",children:Object(u.jsx)($.a,{variant:"rect",width:230,height:48})}),Object(u.jsx)("br",{}),Object(u.jsx)(Z.SkeletonTheme,{color:"#2d3556",highlightColor:"#38c9e5",children:Object(u.jsx)($.a,{variant:"rect",width:200,height:200})}),Object(u.jsx)("h2",{className:"card-content__precio",children:Object(u.jsx)(Z.SkeletonTheme,{color:"#2d3556",highlightColor:"#38c9e5",children:Object(u.jsx)($.a,{variant:"rect",width:125,height:48})})}),Object(u.jsxs)(K.a,{className:"card-content__icons",disableSpacing:!0,children:[Object(u.jsx)(L.a,{"aria-label":"add to cart",children:Object(u.jsx)(Z.SkeletonTheme,{color:"#2d3556",highlightColor:"#38c9e5",children:Object(u.jsx)($.a,{animation:"wave",variant:"circle",width:50,height:50})})}),Object(u.jsx)(L.a,{children:Object(u.jsx)(Z.SkeletonTheme,{color:"#2d3556",highlightColor:"#38c9e5",children:Object(u.jsx)($.a,{animation:"wave",variant:"circle",width:50,height:50})})})]})]})},te=a(40),ae=a.n(te),ce=a(260),ne=(a(187),Object(ce.a)((function(e){return{root:{maxWidth:345},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}}))),re=function(e){var t=e.filtro,a=ne(),c=function(e){var t=Object(i.useState)({data:[],loading:!0}),a=Object(r.a)(t,2),c=a[0],n=a[1];return Object(i.useEffect)((function(){Q(e).then((function(e){n({data:e,loading:!1})}))}),[e]),c}(t),n=c.data,s=c.loading,o=Object(i.useState)(-1),j=Object(r.a)(o,2),b=j[0],d=j[1],m=O(),h=Object(r.a)(m,2)[1];return Object(u.jsx)(u.Fragment,{children:s?Object(u.jsx)(ee,{}):n.map((function(e,t){var c=e.id,n=e.titulo,r=e.img,i=e.precio,s=e.desc;return Object(u.jsxs)("section",{className:"card card-content animate__animated animate__flipInY",children:[Object(u.jsx)(F.a,{className:"card-title card-content__header",title:n,"aria-label":n}),Object(u.jsx)("img",{className:"card-img-top card-content__img",src:r,alt:n}),Object(u.jsx)(B.a,{children:Object(u.jsx)(l.a,{className:"card-content__precio",variant:"h4",children:ae.a.formatMoney(i)})}),Object(u.jsxs)(K.a,{className:"card-content__icons",disableSpacing:!0,children:[Object(u.jsx)(L.a,{className:"btn btn-outline-primary","aria-label":"add to cart",onClick:function(){!function(e,t,a,c){A()({title:"Add to cart",text:"Are you sure add to cart?",icon:"info",buttons:["NO","YES"]}).then((function(n){n&&(h({type:y,item:{id:e,titulo:t,img:a,precio:c}}),A()({title:"Added",text:"Product added successfully",icon:"success",timer:"2000"}))}))}(c,n,r,i)},children:Object(u.jsx)(V.a,{fontSize:"large",color:"primary"})}),Object(u.jsx)(L.a,{className:Object(W.a)(a.expand,Object(q.a)({},a.expandOpen,b)),onClick:function(){var e;d(b===(e=t)?-1:e)},"aria-expanded":b===t,"aria-label":"show more",children:Object(u.jsx)(z.a,{fontSize:"large",color:"primary"})})]}),Object(u.jsx)(U.a,{style:{position:"relative"},in:b===t,timeout:"auto",unmountOnExit:!0,children:Object(u.jsxs)("div",{className:"card-text card-content__descripcion",children:[Object(u.jsx)("h3",{children:"Description:"}),Object(u.jsx)(l.a,{paragraph:!0,children:s})]})})]},c)}))})},ie=(a(188),a(135)),se=(a(194),a(195),function(){var e=Object(i.useState)(["men's clothing"]),t=Object(r.a)(e,2),a=t[0],c=t[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(ie.Carousel,{showThumbs:!1,autoPlay:!0,infiniteLoop:!0,centerMode:!0,swipeable:!0,stopOnHover:!0,children:[Object(u.jsx)("div",{className:"carousel",children:Object(u.jsx)("img",{src:"https://images.pexels.com/photos/994517/pexels-photo-994517.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750",alt:"ropa"})}),Object(u.jsx)("div",{className:"carousel",children:Object(u.jsx)("img",{src:"https://images.pexels.com/photos/6069083/pexels-photo-6069083.jpeg",alt:"ropa"})}),Object(u.jsx)("div",{className:"carousel",children:Object(u.jsx)("img",{src:"https://images.pexels.com/photos/1336873/pexels-photo-1336873.jpeg?auto=compress&cs=tinysrgb&h=750&w=1260",alt:"ropa"})})]}),Object(u.jsxs)("main",{children:[Object(u.jsx)("section",{className:"btn-categorias",children:Object(u.jsx)(D,{setFiltro:c})}),Object(u.jsx)("section",{className:"cards-products",children:a.map((function(e){return Object(u.jsx)(re,{filtro:a},e)}))})]})]})}),oe=a(136),le=a.n(oe),je=function(e){var t=[e.product],a=O(),c=Object(r.a)(a,2)[1];return Object(u.jsx)(u.Fragment,{children:t.map((function(e){var t=e.id,a=e.titulo,n=e.img,r=e.precio;return Object(u.jsxs)("section",{className:"card-content animate__animated animate__flipInY",children:[Object(u.jsx)(F.a,{className:"card-content__header",title:a,"aria-label":a}),Object(u.jsx)("img",{className:"card-content__img",src:n,alt:a}),Object(u.jsxs)(K.a,{className:"card-content__icons",disableSpacing:!0,children:[Object(u.jsx)(L.a,{className:"delbtn",accessKey:"q",title:"(Alt+Q)=Delete item","aria-label":"remove item",onClick:function(){return function(e){A()({title:"Delete",text:"Do you want delete this product?",icon:"warning",buttons:["NO","YES"]}).then((function(t){t&&(c({type:S,id:e}),A()({title:"Deleted",text:"Product deleted successfully",icon:"success",timer:"2000"}))}))}(t)},children:Object(u.jsx)(le.a,{fontSize:"large",color:"secondary"})}),Object(u.jsx)("h2",{className:"card-content__precio",children:ae.a.formatMoney(r)})]})]},t)}))})},be=[{target:".delbtn",content:"Press Alt+Q to delet items"}],de=function(){var e=O(),t=Object(r.a)(e,1)[0],a=t.basket,c=t.user,n=be;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h2",{className:"animate__fadeInUp",children:[Object(u.jsx)(P.a,{steps:n,showProgress:!0}),"Total products: ",null===a||void 0===a?void 0:a.length]}),Object(u.jsxs)("div",{className:"total-pagar",children:[Object(u.jsx)("h2",{className:"animate__fadeInUp",children:ae.a.formatMoney(w(a))}),c?Object(u.jsx)(m.b,{className:"btn btn-danger animate__fadeInUp","aria-label":"Checkout",to:"/ecommerce-React/paypage",children:Object(u.jsx)("strong",{children:"Checkout"})}):Object(u.jsx)(m.b,{className:"btn btn-danger animate__fadeInUp",to:"/ecommerce-React/login","aria-label":"please Sign In first",onClick:function(){A()({title:"Sign In",text:"Plese Sign In to pay",icon:"warning",button:"OK",timer:"3000"})},children:Object(u.jsx)("strong",{children:"Checkout"})})]})]})},me=(a(196),function(){return Object(u.jsxs)("div",{className:"card card-vacio animate__animated animate__fadeInUp",children:[Object(u.jsx)("h2",{className:"card-title card-vacio__header",children:"Empty Cart"}),Object(u.jsx)("img",{className:"card-vacio__gif",src:"https://media.giphy.com/media/m6aIggqT7oB4A/giphy.gif",alt:"gif cart empty"}),Object(u.jsx)(m.b,{className:"button-link",to:"/ecommerce-React/",children:Object(u.jsx)("p",{className:"btn btn-outline-primary card-text card-vacio__parrafo","aria-label":"Go to home",children:"Shop NOW!"})})]})}),ue=(a(197),function(){var e=O(),t=Object(r.a)(e,1)[0].basket;return Object(u.jsx)(u.Fragment,{children:0===t.length?Object(u.jsx)(me,{}):Object(u.jsxs)("main",{children:[Object(u.jsxs)("section",{className:"title-pagecart",children:[Object(u.jsx)("h1",{className:"animate__fadeInUp",children:"Shopping Cart"}),Object(u.jsx)(de,{basket:t})]}),Object(u.jsx)("section",{className:"cards-products",children:null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsx)(je,{product:e},e.id)}))})]})})}),he=a(276),pe=a(266),Oe=a(273),xe=a(267),ge=a(274),fe=a(85),ve=a.n(fe),ye=a(264);a(114);function Se(){return Object(u.jsx)("div",{className:"text-center p-3",children:Object(u.jsxs)("a",{className:"text-copy",href:"https://github.com/bimbaquingoch/ecommerce-React",target:"_blank",rel:"noreferrer",children:["\xa9 2021 Copyright: ",Object(u.jsx)("strong",{children:" bimbaquingoch"})]})})}var Ne=Object(ce.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),_e=function(){var e=Ne(),t=Object(i.useState)(""),a=Object(r.a)(t,2),c=a[0],n=a[1],s=Object(i.useState)(""),o=Object(r.a)(s,2),j=o[0],b=o[1],d=Object(I.f)();return Object(u.jsxs)(ye.a,{component:"main",maxWidth:"xs",children:[Object(u.jsxs)("div",{className:e.paper,children:[Object(u.jsx)(he.a,{className:e.avatar,children:Object(u.jsx)(ve.a,{})}),Object(u.jsx)(l.a,{className:"form-title",component:"h1",variant:"h5",children:"Sign in"}),Object(u.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(u.jsx)(Oe.a,{className:"form-control",value:c,onChange:function(e){var t=e.target;return n(t.value)},variant:"filled",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(u.jsx)(Oe.a,{className:"form-control",value:j,onChange:function(e){var t=e.target;return b(t.value)},margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",variant:"filled"}),Object(u.jsx)(pe.a,{"aria-label":"Sign in",type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault(),g.signInWithEmailAndPassword(c,j).then((function(){d.push("/ecommerce-React/"),A()({title:"Welcome! ".concat(c),text:"Sign In successfully",icon:"success",button:"OK",timer:"3000"})})).catch((function(e){return A()({title:"Sign In",text:e.message,icon:"warning",button:"OK"})}))},children:"Sign In"}),Object(u.jsx)(xe.a,{container:!0,children:Object(u.jsx)(xe.a,{item:!0,children:Object(u.jsx)(m.b,{to:"register",children:"Don't have an account? Sign Up"})})})]})]}),Object(u.jsx)(ge.a,{mt:8,children:Object(u.jsx)(Se,{})})]})};function ke(){return Object(u.jsx)("div",{className:"text-center p-3",children:Object(u.jsxs)("a",{className:"text-copy",href:"https://github.com/bimbaquingoch/ecommerce-React",target:"_blank",rel:"noreferrer",children:["\xa9 2021 Copyright: ",Object(u.jsx)("strong",{children:" bimbaquingoch"})]})})}var Ce=Object(ce.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function we(){var e=Ce(),t=Object(i.useState)(""),a=Object(r.a)(t,2),c=a[0],n=a[1],s=Object(i.useState)(""),o=Object(r.a)(s,2),j=o[0],b=o[1],d=Object(i.useState)(""),h=Object(r.a)(d,2),p=h[0],O=h[1],x=Object(i.useState)(""),f=Object(r.a)(x,2),v=f[0],y=f[1],S=Object(I.f)();return Object(u.jsxs)(ye.a,{component:"main",maxWidth:"xs",children:[Object(u.jsxs)("div",{className:e.paper,children:[Object(u.jsx)(he.a,{className:e.avatar,children:Object(u.jsx)(ve.a,{})}),Object(u.jsx)(l.a,{className:"form-title",component:"h1",variant:"h5",children:"Sign up"}),Object(u.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(u.jsxs)(xe.a,{container:!0,spacing:2,children:[Object(u.jsx)(xe.a,{item:!0,xs:12,sm:6,children:Object(u.jsx)(Oe.a,{className:"form-control",variant:"filled",value:c,onChange:function(e){var t=e.target;return n(t.value)},autoComplete:"fname",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),Object(u.jsx)(xe.a,{item:!0,xs:12,sm:6,children:Object(u.jsx)(Oe.a,{className:"form-control",value:j,onChange:function(e){var t=e.target;return b(t.value)},variant:"filled",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})}),Object(u.jsx)(xe.a,{item:!0,xs:12,children:Object(u.jsx)(Oe.a,{className:"form-control",value:p,onChange:function(e){var t=e.target;return O(t.value)},variant:"filled",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(u.jsx)(xe.a,{item:!0,xs:12,children:Object(u.jsx)(Oe.a,{className:"form-control",value:v,onChange:function(e){var t=e.target;return y(t.value)},variant:"filled",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})})]}),Object(u.jsx)(pe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault(),c.trim().length>2&&j.trim().length>2?g.createUserWithEmailAndPassword(p,v).then((function(e){e&&(S.push("/ecommerce-React/"),A()({title:"Sign up successfully",icon:"success",button:"OK",timer:"2000"}))})).catch((function(e){return A()({title:e.message,icon:"error"})})):A()({title:"First Name or Last Name are incorrect",text:"Must be longer than 3 characters",icon:"warning",button:"OK"})},children:"Sign Up"}),Object(u.jsx)(xe.a,{container:!0,justifyContent:"flex-end",children:Object(u.jsx)(xe.a,{item:!0,children:Object(u.jsx)(m.b,{to:"login",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(u.jsx)(ge.a,{mt:5,children:Object(u.jsx)(ke,{})})]})}var Ee=a(137),Ie=a.n(Ee),Te=a(138),Ae=a.n(Te),Pe=a(139),Re=a.n(Pe),Me=a(140),De=a.n(Me),qe=(a(199),function(){return Object(u.jsxs)("footer",{className:"footer footer-content  animate__fadeInUp",children:[Object(u.jsxs)("div",{className:"content-icons",children:[Object(u.jsx)("a",{href:"https://www.linkedin.com/in/bryan-imbaquingo-almagro-636a90168/",target:"_blank",rel:"noreferrer","aria-label":"LinkedIn Icon",children:Object(u.jsx)(Ie.a,{fontSize:"large"})}),Object(u.jsx)("a",{href:"https://github.com/bimbaquingoch",target:"_blank",rel:"noreferrer","aria-label":"GitHub Icon",children:Object(u.jsx)(Ae.a,{fontSize:"large"})}),Object(u.jsx)("a",{href:"https://www.instagram.com/bryandresimba/",target:"_blank",rel:"noreferrer","aria-label":"Instagram Icon",children:Object(u.jsx)(Re.a,{fontSize:"large"})}),Object(u.jsx)("a",{"aria-label":"Twitter Icon",href:"https://twitter.com/bryandresimba",target:"_blank",rel:"noreferrer",children:Object(u.jsx)(De.a,{fontSize:"large"})})]}),Object(u.jsxs)("div",{className:"text-copy text-center",children:["\xa9 2021 Copyright:",Object(u.jsx)("a",{"aria-label":"repository",className:"text-copy",href:"https://github.com/bimbaquingoch/ecommerce-React",target:"_blank",rel:"noreferrer",children:"bimbaquingoch"})]})]})}),Fe=a(218),We=a(277),Be=a(272),Ke=a(275),Ue=a(70),Le=function(e){var t=e.name,a=e.label,c=e.required,n=e.type,r=Object(Ue.d)().control;return Object(u.jsx)(xe.a,{item:!0,xs:12,sm:6,children:Object(u.jsx)(Ue.a,{control:r,name:t,render:function(e){var r=e.field;return Object(u.jsx)(Oe.a,Object(v.a)(Object(v.a)({},r),{},{name:t,fullWidth:!0,label:a,required:c,defaultValue:"",type:n}))}})})},Ge=function(e){var t=e.nextStep,a=Object(Ue.c)(),c=O(),n=Object(r.a)(c,2)[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l.a,{variant:"h6",gutterBottom:!0,children:"Shipping Address"}),Object(u.jsx)(Ue.b,Object(v.a)(Object(v.a)({},a),{},{children:Object(u.jsxs)("form",{action:"",onSubmit:a.handleSubmit((function(e){n({type:k,shippingData:e}),t()})),children:[Object(u.jsxs)(xe.a,{container:!0,spacing:3,children:[Object(u.jsx)(Le,{required:!0,name:"firstName",label:"First Name",type:"text"}),Object(u.jsx)(Le,{required:!0,name:"lastName",label:"Last Name",type:"text"}),Object(u.jsx)(Le,{required:!0,name:"address1",label:"Address",type:"text"}),Object(u.jsx)(Le,{required:!0,name:"email",label:"email",type:"email"}),Object(u.jsx)(Le,{required:!0,name:"city",label:"City",type:"text"}),Object(u.jsx)(Le,{required:!0,name:"postCode",label:"Post Code",type:"number"})]}),Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[Object(u.jsx)(pe.a,{component:m.b,to:"/ecommerce-React/paycart",variant:"contained",children:"Back"}),Object(u.jsx)(pe.a,{type:"submit",variant:"contained",color:"primary",children:"Next"})]})]})}))]})},ze=a(265),Ye=a(268),Ve=a(269),He=function(){var e=O(),t=Object(r.a)(e,1)[0].basket;return Object(u.jsxs)("div",{children:[Object(u.jsx)(l.a,{variant:"h6",gutterBottom:!0,children:"Order summary"}),Object(u.jsxs)(ze.a,{disablePadding:!0,children:[null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsxs)(Ye.a,{children:[Object(u.jsx)(Ve.a,{primary:e.titulo,secondary:"Qty: ".concat(1)}),Object(u.jsx)(l.a,{children:ae.a.formatMoney(e.precio)})]},e.titulo)})),Object(u.jsxs)(Ye.a,{children:[Object(u.jsx)(Ve.a,{primary:"Total"}),Object(u.jsx)(l.a,{variant:"subtitle1",children:ae.a.formatMoney(w(t))})]})]})]})},Xe=a(271),Je=a(270),Qe=a(63),Ze=a(141),$e=a(142),et=a.n($e),tt=Object(Ze.a)("pk_test_51JC8T2LZD2LLfhkI8T8VfBFjVNnNKXVagA6bY1Xoce5biOTWpXTJpW3WpB4ImmSwsXn5DSyUMYkUyyilD6xFKh2T00Lx9CX22A"),at={iconStyle:"solid",hidePostalCode:!0,style:{base:{iconColor:"rgb(240,57,122)",color:"#333",fontSize:"1.1em","::placeholder":{color:"#ccc"}},invalid:{color:"#e5424d",":focus":{color:"#303238"}}}},ct=function(e){var t=e.nextStep,a=O(),c=Object(r.a)(a,2),n=c[0].basket,s=c[1],o=Object(Qe.useStripe)(),l=Object(Qe.useElements)(),j=Object(i.useState)(!1),b=Object(r.a)(j,2),d=b[0],h=b[1],p=function(){var e=Object(J.a)(X.a.mark((function e(a){var c,r,i,j,b,d;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,o.createPaymentMethod({type:"card",card:l.getElement(Qe.CardElement)});case 3:if(c=e.sent,r=c.error,i=c.paymentMethod,h(!0),r){e.next=25;break}return j=i.id,e.prev=9,e.next=12,et.a.post("http://localhost:3001/api/checkout",{id:j,amount:100*w(n)});case 12:b=e.sent,d=b.data,s({type:C,paymentMessage:d.message}),"Successfull Payment"===d.message&&s({type:_,basket:[]}),null===l||void 0===l||l.getElement(Qe.CardElement).clear(),t(),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(9),console.log(e.t0),t();case 24:h(!1);case 25:case"end":return e.stop()}}),e,null,[[9,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("form",{onSubmit:p,children:[Object(u.jsx)(Qe.CardElement,{options:at}),Object(u.jsxs)("div",{style:{display:"flex",marginTop:"20px",justifyContent:"space-between"},children:[Object(u.jsx)(pe.a,{variant:"contained",color:"primary",component:m.b,to:"/ecommerce-React/paypage",children:"Back"}),Object(u.jsx)(pe.a,{type:"submit",variant:"outlined",color:"primary",children:d?Object(u.jsx)(Je.a,{}):"Pay ".concat(ae.a.formatMoney(w(n)))})]})]})},nt=function(e){var t=e.backStep,a=e.nextStep;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(He,{}),Object(u.jsx)(Xe.a,{}),Object(u.jsx)(l.a,{variant:"h5",gutterBottom:!0,style:{margin:"20px 0"},children:"Payment method"}),Object(u.jsx)(Qe.Elements,{stripe:tt,children:Object(u.jsx)(ct,{backStep:t,nextStep:a})})]})},rt=Object(ce.a)((function(e){return{appBar:{position:"relative"},layout:Object(q.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(q.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),it=function(e){var t=e.message;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l.a,{variant:"h6",children:t}),Object(u.jsx)(Xe.a,{}),Object(u.jsx)(l.a,{variant:"subtitle2",gutterBottom:!0,children:"Successfull Payment"===t?"Your booking reference: Rgh342udfy34":"".concat(A()({title:"Someting was wrong, try it later!",icon:"warning",timer:"1800"}))}),Object(u.jsx)(pe.a,{component:m.b,to:"/ecommerce-React/",variant:"contained",color:"primary",children:"Back to Home"})]})},st=function(){var e=O(),t=Object(r.a)(e,1)[0].paymentMessage,a=rt(),c=Object(i.useState)(0),n=Object(r.a)(c,2),s=n[0],o=n[1],j=["Shipping address","Payment details"],b=function(){return o((function(e){return e+1}))},d=function(){return o((function(e){return e-1}))},m=function(){return 0===s?Object(u.jsx)(Ge,{nextStep:b}):Object(u.jsx)(nt,{nextStep:b,backStep:d})};return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("main",{className:a.layout,children:Object(u.jsxs)(Fe.a,{className:a.paper,children:[Object(u.jsx)(l.a,{component:"h1",variant:"h4",alingn:"center",children:"Checkout"}),Object(u.jsx)(We.a,{activeStep:s,className:a.stepper,children:j.map((function(e){return Object(u.jsx)(Be.a,{children:Object(u.jsx)(Ke.a,{children:e})},e)}))}),s===j.length?Object(u.jsx)(it,{message:t}):Object(u.jsx)(m,{})]})})})},ot=function(){var e=O(),t=Object(r.a)(e,2),a=t[0].user,c=t[1];return Object(i.useEffect)((function(){g.onAuthStateChanged((function(e){e&&c({type:N,user:e})}))}),[c,a]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(m.a,{children:[Object(u.jsx)(M,{}),Object(u.jsxs)(I.c,{children:[Object(u.jsx)(I.a,{path:"/ecommerce-React/register",children:Object(u.jsx)(we,{})}),Object(u.jsx)(I.a,{path:"/ecommerce-React/paycart",children:Object(u.jsx)(ue,{})}),Object(u.jsx)(I.a,{path:"/ecommerce-React/paypage",children:Object(u.jsx)(st,{})}),Object(u.jsx)(I.a,{path:"/ecommerce-React/login",children:Object(u.jsx)(_e,{})}),Object(u.jsx)(I.a,{path:"/ecommerce-React/",children:Object(u.jsx)(se,{})})]})]}),Object(u.jsx)(qe,{})]})};n.a.render(Object(u.jsx)(p,{initialState:{basket:[],user:null,shippingData:{},paymentMessage:""},reducer:E,children:Object(u.jsx)(ot,{})}),document.getElementById("root"))}},[[217,1,2]]]);
//# sourceMappingURL=main.d97dbf19.chunk.js.map