(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{107:function(e,t,a){},109:function(e,t,a){},177:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},188:function(e,t,a){},206:function(e,t,a){"use strict";a.r(t);var n=a(13),c=a.n(n),r=a(11),i=a(0),s=a(241),o=a(244),l=a(57),j=a(128),b=a.n(j),d=a(245),m=a(20),u=a(3),h=Object(i.createContext)(),p=function(e){var t=e.reducer,a=e.initialState,n=e.children;return Object(u.jsx)(h.Provider,{value:Object(i.useReducer)(t,a),children:n})},O=function(){return Object(i.useContext)(h)},x=a(127),g=a.n(x),f=a(96),y=(f.a.initializeApp({apiKey:"AIzaSyACXrZzGCdQcLV8AZCrOEHLDtvn2wGmyd4",authDomain:"calidad-ecommerce.firebaseapp.com",projectId:"calidad-ecommerce",storageBucket:"calidad-ecommerce.appspot.com",messagingSenderId:"782794406271",appId:"1:782794406271:web:4f9de1e4db36810036c24a",measurementId:"G-TSV5FX38NQ"}),f.a.auth()),v=a(24),S=a(23),N="ADD_TO_BASKET",_="REMOVE_ITEM",k="SET_USER",C="EMPTY_BASKET",w="SET_SHIPPING_DATA",E="SET_PAYMENT_MESSAGE",I=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.precio+e}),0)},A=function(e,t){switch(t.type){case"ADD_TO_BASKET":return Object(S.a)(Object(S.a)({},e),{},{basket:[].concat(Object(v.a)(e.basket),[t.item])});case"REMOVE_ITEM":var a=e.basket.findIndex((function(e){return e.id===t.id})),n=Object(v.a)(e.basket);return a>=0?n.splice(a,1):console.log("no se puede eliminar el producto"),Object(S.a)(Object(S.a)({},e),{},{basket:n});case"SET_USER":return Object(S.a)(Object(S.a)({},e),{},{user:t.user});case"EMPTY_BASKET":return Object(S.a)(Object(S.a)({},e),{},{basket:t.basket});case"SET_SHIPPING_DATA":return Object(S.a)(Object(S.a)({},e),{},{shippingData:t.shippingData});case"SET_PAYMENT_MESSAGE":return Object(S.a)(Object(S.a)({},e),{},{paymentMessage:t.paymentMessage});default:return e}},T=a(22),P=a(29),R=a.n(P),M=a(86),D=(a(107),[{target:".traductor",content:"Click here to choose your language"},{target:".navbar-brand",content:"Press Alt+A to back to home"},{target:".whatsbtn",content:"Ask for help press ALT+W"},{target:".signInbtn",content:"To Sign In press ALT+S"},{target:".cartbtn",content:"Go to cart press ALT+C"},{target:".footer",content:"Our social media"}]),q=function(){var e=O(),t=Object(r.a)(e,2),a=t[0],n=a.basket,c=a.user,i=t[1],j=Object(T.f)(),h=D;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(M.a,{steps:h,continuous:!0,showProgress:!0,showSkipButton:!0}),Object(u.jsx)(s.a,{position:"static",children:Object(u.jsxs)(o.a,{children:[Object(u.jsxs)("div",{className:"eco-whats",children:[Object(u.jsx)(m.b,{accessKey:"a",title:"(Alt+A)=HOME",exact:{exact:!0},className:"navbar-brand",to:"/ecommerce-React/",children:Object(u.jsx)(l.a,{variant:"h6",children:"Ecommerce"})}),Object(u.jsxs)("a",{accessKey:"w","aria-label":"Whatsapp help",title:"(Alt+W)=Ask for Help",className:"btn btn-success whatsbtn",href:"https://api.whatsapp.com/send/?phone=593982805964&text=Hola!%20Me%20Interesan%20sus%20productos.&app_absent=0",target:"_blank",rel:"noreferrer",children:[Object(u.jsx)(g.a,{}),Object(u.jsx)("strong",{className:"whats",children:"Ask for Help"})]})]}),Object(u.jsx)("h3",{children:c?"Welcome":""}),Object(u.jsxs)("div",{className:"header-navbar__buttons",children:[c?Object(u.jsx)(m.b,{exact:{exact:!0},to:"/ecommerce-React/login",accessKey:"s","aria-label":"Sign Out",title:"(Alt+S)=Sign Out",className:"btn btn-secondary",onClick:function(){c&&(y.signOut(),i({type:C,basket:[]}),i({type:k,user:null}),j.push("/ecommerce-React/")),R()({title:"Sign Out",text:"Good bye",icon:"success",button:"OK",timer:"2000"})},children:Object(u.jsx)("strong",{children:"Sign Out"})}):Object(u.jsx)(m.b,{exact:{exact:!0},to:"/ecommerce-React/login",accessKey:"s","aria-label":"Sign in",title:"(Alt+S)=Sign in",className:"btn btn-secondary signInbtn",children:Object(u.jsx)("strong",{children:"Sign In"})}),Object(u.jsx)(m.b,{className:"btn btn-outline cartbtn",accessKey:"c","aria-label":"Go to Cart",title:"(Alt+C)=Go to Cart",exact:{exact:!0},to:"/ecommerce-React/paycart",children:Object(u.jsx)(d.a,{badgeContent:null===n||void 0===n?void 0:n.length,color:"secondary",children:Object(u.jsx)(b.a,{fontSize:"large",color:"primary"})})})]})]})})]})},W=(a(177),function(e){var t=e.setFiltro,a=Object(i.useState)([""]),n=Object(r.a)(a,2),c=n[0],s=n[1],o=function(e){var t=e.target;s(t.value)};return Object(u.jsxs)("form",{className:"btns-filtro",onSubmit:function(e){e.preventDefault(),t([c])},children:[Object(u.jsx)("button",{className:"btn btn-primary btn-lg animate__fadeInUp",onClick:o,type:"submit",id:"jewelery",value:"jewelery",name:"jewelery","aria-label":"Jewelery",children:"Jewelery"}),Object(u.jsx)("button",{"aria-label":"Electronics",className:"btn btn-primary btn-lg animate__fadeInUp",onClick:o,type:"submit",id:"electronics",value:"electronics",name:"electronics",children:"Electronics"}),Object(u.jsx)("button",{"aria-label":"men's clothing",className:"btn btn-primary btn-lg animate__fadeInUp",onClick:o,type:"submit",id:"menClotes",value:"men's clothing",name:"menClothes",children:"Men's"}),Object(u.jsx)("button",{"aria-label":"women's clothing",className:"btn btn-primary btn-lg animate__fadeInUp",onClick:o,type:"submit",id:"womenClotes",value:"women's clothing",name:"womenClothes",children:"Women's"})]})}),B=a(37),F=a(249),K=a(7),U=a(250),L=a(246),G=a(251),z=a(247),Y=a(130),V=a.n(Y),H=a(129),X=a.n(H),J=a(16),Q=a.n(J),Z=a(31),$=function(){var e=Object(Z.a)(Q.a.mark((function e(t){var a,n,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://fakestoreapi.com/products/",e.next=3,fetch("https://fakestoreapi.com/products/");case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,c=n.map((function(e){return{categoria:e.category,desc:e.description,id:e.id,img:e.image,precio:e.price,titulo:e.title}})),e.abrupt("return",c.filter((function(e){return e.categoria===t[0]})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=a(41),te=a.n(ee),ae=function(){return Object(u.jsxs)("div",{className:"card-content animate__animated",children:[Object(u.jsx)("br",{}),Object(u.jsx)(ee.SkeletonTheme,{color:"#2d3556",highlightColor:"#38c9e5",children:Object(u.jsx)(te.a,{variant:"rect",width:230,height:48})}),Object(u.jsx)("br",{}),Object(u.jsx)(ee.SkeletonTheme,{color:"#2d3556",highlightColor:"#38c9e5",children:Object(u.jsx)(te.a,{variant:"rect",width:200,height:200})}),Object(u.jsx)("h2",{className:"card-content__precio",children:Object(u.jsx)(ee.SkeletonTheme,{color:"#2d3556",highlightColor:"#38c9e5",children:Object(u.jsx)(te.a,{variant:"rect",width:125,height:48})})}),Object(u.jsxs)(L.a,{className:"card-content__icons",disableSpacing:!0,children:[Object(u.jsx)(z.a,{"aria-label":"add to cart",children:Object(u.jsx)(ee.SkeletonTheme,{color:"#2d3556",highlightColor:"#38c9e5",children:Object(u.jsx)(te.a,{animation:"wave",variant:"circle",width:50,height:50})})}),Object(u.jsx)(z.a,{children:Object(u.jsx)(ee.SkeletonTheme,{color:"#2d3556",highlightColor:"#38c9e5",children:Object(u.jsx)(te.a,{animation:"wave",variant:"circle",width:50,height:50})})})]})]})},ne=a(40),ce=a.n(ne),re=a(248),ie=(a(182),Object(re.a)((function(e){return{root:{maxWidth:345},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}}))),se=function(e){var t=e.filtro,a=ie(),n=function(e){var t=Object(i.useState)({data:[],loading:!0}),a=Object(r.a)(t,2),n=a[0],c=a[1];return Object(i.useEffect)((function(){$(e).then((function(e){c({data:e,loading:!1})}))}),[e]),n}(t),c=n.data,s=n.loading,o=Object(i.useState)(-1),j=Object(r.a)(o,2),b=j[0],d=j[1],m=O(),h=Object(r.a)(m,2)[1];return Object(u.jsx)(u.Fragment,{children:s?Object(u.jsx)(ae,{}):c.map((function(e,t){var n=e.id,c=e.titulo,r=e.img,i=e.precio,s=e.desc;return Object(u.jsxs)("section",{className:"card card-content animate__animated animate__flipInY",children:[Object(u.jsx)(F.a,{className:"card-title card-content__header",title:c,"aria-label":c}),Object(u.jsx)("img",{className:"card-img-top card-content__img",src:r,alt:c}),Object(u.jsx)(U.a,{children:Object(u.jsx)(l.a,{className:"card-content__precio",variant:"h4",children:ce.a.formatMoney(i)})}),Object(u.jsxs)(L.a,{className:"card-content__icons",disableSpacing:!0,children:[Object(u.jsx)(z.a,{className:"btn btn-outline-primary","aria-label":"add to cart",onClick:function(){!function(e,t,a,n){R()({title:"Add to cart",text:"Are you sure add to cart?",icon:"info",buttons:["NO","YES"]}).then((function(c){c&&(h({type:N,item:{id:e,titulo:t,img:a,precio:n}}),R()({title:"Added",text:"Product added successfully",icon:"success",timer:"2000"}))}))}(n,c,r,i)},children:Object(u.jsx)(X.a,{fontSize:"large",color:"primary"})}),Object(u.jsx)(z.a,{className:Object(K.a)(a.expand,Object(B.a)({},a.expandOpen,b)),onClick:function(){var e;d(b===(e=t)?-1:e)},"aria-expanded":b===t,"aria-label":"show more",children:Object(u.jsx)(V.a,{fontSize:"large",color:"primary"})})]}),Object(u.jsx)(G.a,{style:{position:"relative"},in:b===t,timeout:"auto",unmountOnExit:!0,children:Object(u.jsxs)("div",{className:"card-text card-content__descripcion",children:[Object(u.jsx)("h3",{children:"Description:"}),Object(u.jsx)(l.a,{paragraph:!0,children:s})]})})]},n)}))})},oe=(a(183),a(184),function(){var e=Object(i.useState)(["men's clothing"]),t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(u.jsxs)("main",{children:[Object(u.jsx)("section",{className:"btn-categorias",children:Object(u.jsx)(W,{setFiltro:n})}),Object(u.jsx)("section",{className:"cards-products",children:a.map((function(e){return Object(u.jsx)(se,{filtro:a},e)}))})]})}),le=a(131),je=a.n(le),be=function(e){var t=[e.product],a=O(),n=Object(r.a)(a,2)[1];return Object(u.jsx)(u.Fragment,{children:t.map((function(e){var t=e.id,a=e.titulo,c=e.img,r=e.precio;return Object(u.jsxs)("section",{className:"card-content animate__animated animate__flipInY",children:[Object(u.jsx)(F.a,{className:"card-content__header",title:a,"aria-label":a}),Object(u.jsx)("img",{className:"card-content__img",src:c,alt:a}),Object(u.jsxs)(L.a,{className:"card-content__icons",disableSpacing:!0,children:[Object(u.jsx)(z.a,{className:"delbtn",accessKey:"q",title:"(Alt+Q)=Delete item","aria-label":"remove item",onClick:function(){return function(e){R()({title:"Delete",text:"Do you want delete this product?",icon:"warning",buttons:["NO","YES"]}).then((function(t){t&&(n({type:_,id:e}),R()({title:"Deleted",text:"Product deleted successfully",icon:"success",timer:"2000"}))}))}(t)},children:Object(u.jsx)(je.a,{fontSize:"large",color:"secondary"})}),Object(u.jsx)("h2",{className:"card-content__precio",children:ce.a.formatMoney(r)})]})]},t)}))})},de=[{target:".delbtn",content:"Press Alt+Q to delet items"}],me=function(){var e=O(),t=Object(r.a)(e,1)[0],a=t.basket,n=t.user,c=de;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h2",{className:"animate__fadeInUp",children:[Object(u.jsx)(M.a,{steps:c,showProgress:!0}),"Total products: ",null===a||void 0===a?void 0:a.length]}),Object(u.jsxs)("div",{className:"total-pagar",children:[Object(u.jsx)("h2",{className:"animate__fadeInUp",children:ce.a.formatMoney(I(a))}),n?Object(u.jsx)(m.b,{className:"btn btn-danger animate__fadeInUp","aria-label":"Checkout",to:"/ecommerce-React/paypage",children:Object(u.jsx)("strong",{children:"Checkout"})}):Object(u.jsx)(m.b,{className:"btn btn-danger animate__fadeInUp",to:"/ecommerce-React/login","aria-label":"please Sign In first",onClick:function(){R()({title:"Sign In",text:"Plese Sign In to pay",icon:"warning",button:"OK",timer:"3000"})},children:Object(u.jsx)("strong",{children:"Checkout"})})]})]})},ue=(a(185),function(){return Object(u.jsxs)("div",{className:"card card-vacio animate__animated animate__fadeInUp",children:[Object(u.jsx)("h2",{className:"card-title card-vacio__header",children:"Empty Cart"}),Object(u.jsx)("img",{className:"card-vacio__gif",src:"https://media.giphy.com/media/m6aIggqT7oB4A/giphy.gif",alt:"gif cart empty"}),Object(u.jsx)(m.b,{className:"button-link",to:"/ecommerce-React/",children:Object(u.jsx)("p",{className:"btn btn-outline-primary card-text card-vacio__parrafo","aria-label":"Go to home",children:"Shop NOW!"})})]})}),he=(a(186),function(){var e=O(),t=Object(r.a)(e,1)[0].basket;return Object(u.jsx)(u.Fragment,{children:0===t.length?Object(u.jsx)(ue,{}):Object(u.jsxs)("main",{children:[Object(u.jsxs)("section",{className:"title-pagecart",children:[Object(u.jsx)("h1",{className:"animate__fadeInUp",children:"Shopping Cart"}),Object(u.jsx)(me,{basket:t})]}),Object(u.jsx)("section",{className:"cards-products",children:null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsx)(be,{product:e},e.id)}))})]})})}),pe=a(263),Oe=a(254),xe=a(260),ge=a(255),fe=a(261),ye=a(85),ve=a.n(ye),Se=a(252);a(109);function Ne(){return Object(u.jsx)("div",{className:"text-center p-3",children:Object(u.jsxs)("a",{className:"text-copy",href:"https://github.com/bimbaquingoch/ecommerce-React",target:"_blank",rel:"noreferrer",children:["\xa9 2021 Copyright: ",Object(u.jsx)("strong",{children:" bimbaquingoch"})]})})}var _e=Object(re.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),ke=function(){var e=_e(),t=Object(i.useState)(""),a=Object(r.a)(t,2),n=a[0],c=a[1],s=Object(i.useState)(""),o=Object(r.a)(s,2),j=o[0],b=o[1],d=Object(T.f)();return Object(u.jsxs)(Se.a,{component:"main",maxWidth:"xs",children:[Object(u.jsxs)("div",{className:e.paper,children:[Object(u.jsx)(pe.a,{className:e.avatar,children:Object(u.jsx)(ve.a,{})}),Object(u.jsx)(l.a,{className:"form-title",component:"h1",variant:"h5",children:"Sign in"}),Object(u.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(u.jsx)(xe.a,{className:"form-control",value:n,onChange:function(e){var t=e.target;return c(t.value)},variant:"filled",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(u.jsx)(xe.a,{className:"form-control",value:j,onChange:function(e){var t=e.target;return b(t.value)},margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",variant:"filled"}),Object(u.jsx)(Oe.a,{"aria-label":"Sign in",type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault(),y.signInWithEmailAndPassword(n,j).then((function(){d.push("/ecommerce-React/"),R()({title:"Welcome! ".concat(n),text:"Sign In successfully",icon:"success",button:"OK",timer:"3000"})})).catch((function(e){return R()({title:"Sign In",text:e.message,icon:"warning",button:"OK"})}))},children:"Sign In"}),Object(u.jsx)(ge.a,{container:!0,children:Object(u.jsx)(ge.a,{item:!0,children:Object(u.jsx)(m.b,{to:"register",children:"Don't have an account? Sign Up"})})})]})]}),Object(u.jsx)(fe.a,{mt:8,children:Object(u.jsx)(Ne,{})})]})};function Ce(){return Object(u.jsx)("div",{className:"text-center p-3",children:Object(u.jsxs)("a",{className:"text-copy",href:"https://github.com/bimbaquingoch/ecommerce-React",target:"_blank",rel:"noreferrer",children:["\xa9 2021 Copyright: ",Object(u.jsx)("strong",{children:" bimbaquingoch"})]})})}var we=Object(re.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function Ee(){var e=we(),t=Object(i.useState)(""),a=Object(r.a)(t,2),n=a[0],c=a[1],s=Object(i.useState)(""),o=Object(r.a)(s,2),j=o[0],b=o[1],d=Object(i.useState)(""),h=Object(r.a)(d,2),p=h[0],O=h[1],x=Object(i.useState)(""),g=Object(r.a)(x,2),f=g[0],v=g[1],S=Object(T.f)();return Object(u.jsxs)(Se.a,{component:"main",maxWidth:"xs",children:[Object(u.jsxs)("div",{className:e.paper,children:[Object(u.jsx)(pe.a,{className:e.avatar,children:Object(u.jsx)(ve.a,{})}),Object(u.jsx)(l.a,{className:"form-title",component:"h1",variant:"h5",children:"Sign up"}),Object(u.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(u.jsxs)(ge.a,{container:!0,spacing:2,children:[Object(u.jsx)(ge.a,{item:!0,xs:12,sm:6,children:Object(u.jsx)(xe.a,{className:"form-control",variant:"filled",value:n,onChange:function(e){var t=e.target;return c(t.value)},autoComplete:"fname",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),Object(u.jsx)(ge.a,{item:!0,xs:12,sm:6,children:Object(u.jsx)(xe.a,{className:"form-control",value:j,onChange:function(e){var t=e.target;return b(t.value)},variant:"filled",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})}),Object(u.jsx)(ge.a,{item:!0,xs:12,children:Object(u.jsx)(xe.a,{className:"form-control",value:p,onChange:function(e){var t=e.target;return O(t.value)},variant:"filled",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(u.jsx)(ge.a,{item:!0,xs:12,children:Object(u.jsx)(xe.a,{className:"form-control",value:f,onChange:function(e){var t=e.target;return v(t.value)},variant:"filled",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})})]}),Object(u.jsx)(Oe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault(),n.trim().length>2&&j.trim().length>2?y.createUserWithEmailAndPassword(p,f).then((function(e){e&&(S.push("/ecommerce-React/"),R()({title:"Sign up successfully",icon:"success",button:"OK",timer:"2000"}))})).catch((function(e){return R()({title:e.message,icon:"error"})})):R()({title:"First Name or Last Name are incorrect",text:"Must be longer than 3 characters",icon:"warning",button:"OK"})},children:"Sign Up"}),Object(u.jsx)(ge.a,{container:!0,justifyContent:"flex-end",children:Object(u.jsx)(ge.a,{item:!0,children:Object(u.jsx)(m.b,{to:"login",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(u.jsx)(fe.a,{mt:5,children:Object(u.jsx)(Ce,{})})]})}var Ie=a(132),Ae=a.n(Ie),Te=a(133),Pe=a.n(Te),Re=a(134),Me=a.n(Re),De=a(135),qe=a.n(De),We=(a(188),function(){return Object(u.jsxs)("footer",{className:"footer footer-content  animate__fadeInUp",children:[Object(u.jsxs)("div",{className:"content-icons",children:[Object(u.jsx)("a",{href:"https://www.linkedin.com/in/bryan-imbaquingo-almagro-636a90168/",target:"_blank",rel:"noreferrer","aria-label":"LinkedIn Icon",children:Object(u.jsx)(Ae.a,{fontSize:"large"})}),Object(u.jsx)("a",{href:"https://github.com/bimbaquingoch",target:"_blank",rel:"noreferrer","aria-label":"GitHub Icon",children:Object(u.jsx)(Pe.a,{fontSize:"large"})}),Object(u.jsx)("a",{href:"https://www.instagram.com/bryandresimba/",target:"_blank",rel:"noreferrer","aria-label":"Instagram Icon",children:Object(u.jsx)(Me.a,{fontSize:"large"})}),Object(u.jsx)("a",{"aria-label":"Twitter Icon",href:"https://twitter.com/bryandresimba",target:"_blank",rel:"noreferrer",children:Object(u.jsx)(qe.a,{fontSize:"large"})})]}),Object(u.jsxs)("div",{className:"text-copy text-center",children:["\xa9 2021 Copyright:",Object(u.jsx)("a",{"aria-label":"repository",className:"text-copy",href:"https://github.com/bimbaquingoch/ecommerce-React",target:"_blank",rel:"noreferrer",children:"bimbaquingoch"})]})]})}),Be=a(207),Fe=a(264),Ke=a(259),Ue=a(262),Le=a(70),Ge=function(e){var t=e.name,a=e.label,n=e.required,c=e.type,r=Object(Le.d)().control;return Object(u.jsx)(ge.a,{item:!0,xs:12,sm:6,children:Object(u.jsx)(Le.a,{control:r,name:t,render:function(e){var r=e.field;return Object(u.jsx)(xe.a,Object(S.a)(Object(S.a)({},r),{},{name:t,fullWidth:!0,label:a,required:n,defaultValue:"",type:c}))}})})},ze=function(e){var t=e.nextStep,a=Object(Le.c)(),n=O(),c=Object(r.a)(n,2)[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l.a,{variant:"h6",gutterBottom:!0,children:"Shipping Address"}),Object(u.jsx)(Le.b,Object(S.a)(Object(S.a)({},a),{},{children:Object(u.jsxs)("form",{action:"",onSubmit:a.handleSubmit((function(e){c({type:w,shippingData:e}),t()})),children:[Object(u.jsxs)(ge.a,{container:!0,spacing:3,children:[Object(u.jsx)(Ge,{required:!0,name:"firstName",label:"First Name",type:"text"}),Object(u.jsx)(Ge,{required:!0,name:"lastName",label:"Last Name",type:"text"}),Object(u.jsx)(Ge,{required:!0,name:"address1",label:"Address",type:"text"}),Object(u.jsx)(Ge,{required:!0,name:"email",label:"email",type:"email"}),Object(u.jsx)(Ge,{required:!0,name:"city",label:"City",type:"text"}),Object(u.jsx)(Ge,{required:!0,name:"postCode",label:"Post Code",type:"number"})]}),Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[Object(u.jsx)(Oe.a,{component:m.b,to:"/ecommerce-React/paycart",variant:"contained",color:"primary",children:"Back"}),Object(u.jsx)(Oe.a,{type:"submit",variant:"contained",color:"primary",children:"Next"})]})]})}))]})},Ye=a(253),Ve=a(256),He=a(257),Xe=function(){var e=O(),t=Object(r.a)(e,1)[0].basket;return Object(u.jsxs)("div",{children:[Object(u.jsx)(l.a,{variant:"h6",gutterBottom:!0,children:"Order summary"}),Object(u.jsxs)(Ye.a,{disablePadding:!0,children:[null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsxs)(Ve.a,{children:[Object(u.jsx)(He.a,{primary:e.titulo,secondary:"Qty: ".concat(1)}),Object(u.jsx)(l.a,{children:ce.a.formatMoney(e.precio)})]},e.titulo)})),Object(u.jsxs)(Ve.a,{children:[Object(u.jsx)(He.a,{primary:"Total"}),Object(u.jsx)(l.a,{variant:"subtitle1",children:ce.a.formatMoney(I(t))})]})]})]})},Je=a(258),Qe=a(63),Ze=a(136),$e=a(137),et=a.n($e),tt=Object(Ze.a)("pk_test_51JC8T2LZD2LLfhkI8T8VfBFjVNnNKXVagA6bY1Xoce5biOTWpXTJpW3WpB4ImmSwsXn5DSyUMYkUyyilD6xFKh2T00Lx9CX22A"),at={iconStyle:"solid",hidePostalCode:!0,style:{base:{iconColor:"rgb(240,57,122)",color:"#333",fontSize:"1.1em","::placeholder":{color:"#ccc"}},invalid:{color:"#e5424d",":focus":{color:"#303238"}}}},nt=function(e){var t=e.nextStep,a=O(),n=Object(r.a)(a,2),c=n[0].basket,i=n[1],s=Object(Qe.useStripe)(),o=Object(Qe.useElements)(),l=function(){var e=Object(Z.a)(Q.a.mark((function e(a){var n,r,l,j,b,d;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,s.createPaymentMethod({type:"card",card:o.getElement(Qe.CardElement)});case 3:if(n=e.sent,r=n.error,l=n.paymentMethod,r){e.next=23;break}return j=l.id,e.prev=8,e.next=11,et.a.post("http://localhost:3001/api/checkout",{id:j,amount:100*I(c)});case 11:b=e.sent,d=b.data,i({type:E,paymentMessage:d.message}),"Successfull Payment"===d.message&&i({type:C,basket:[]}),null===o||void 0===o||o.getElement(Qe.CardElement).clear(),t(),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(8),console.log(e.t0),t();case 23:case"end":return e.stop()}}),e,null,[[8,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("form",{onSubmit:l,children:[Object(u.jsx)(Qe.CardElement,{options:at}),Object(u.jsxs)("div",{style:{display:"flex",marginTop:"20px",justifyContent:"space-between"},children:[Object(u.jsx)(Oe.a,{variant:"contained",color:"primary",component:m.b,to:"/ecommerce-React/paypage",children:"Back"}),Object(u.jsxs)(Oe.a,{type:"submit",variant:"outlined",color:"primary",children:["Pay ",ce.a.formatMoney(I(c))]})]})]})},ct=function(e){var t=e.backStep,a=e.nextStep;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Xe,{}),Object(u.jsx)(Je.a,{}),Object(u.jsx)(l.a,{variant:"h5",gutterBottom:!0,style:{margin:"20px 0"},children:"Payment method"}),Object(u.jsx)(Qe.Elements,{stripe:tt,children:Object(u.jsx)(nt,{backStep:t,nextStep:a})})]})},rt=Object(re.a)((function(e){return{appBar:{position:"relative"},layout:Object(B.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(B.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),it=function(e){var t=e.message;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l.a,{variant:"h6",children:t}),Object(u.jsx)(Je.a,{}),Object(u.jsx)(l.a,{variant:"subtitle2",gutterBottom:!0,children:"Successfull Payment"===t?"Your booking reference: Rgh342udfy34":""}),Object(u.jsx)(Oe.a,{component:m.b,to:"/ecommerce-React/",variant:"contained",color:"primary",children:"Back to Home"})]})},st=function(){var e=O(),t=Object(r.a)(e,1)[0].paymentMessage,a=rt(),n=Object(i.useState)(0),c=Object(r.a)(n,2),s=c[0],o=c[1],j=["Shipping address","Payment details"],b=function(){return o((function(e){return e+1}))},d=function(){return o((function(e){return e-1}))},m=function(){return 0===s?Object(u.jsx)(ze,{nextStep:b}):Object(u.jsx)(ct,{nextStep:b,backStep:d})};return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("main",{className:a.layout,children:Object(u.jsxs)(Be.a,{className:a.paper,children:[Object(u.jsx)(l.a,{component:"h1",variant:"h4",alingn:"center",children:"Checkout"}),Object(u.jsx)(Fe.a,{activeStep:s,className:a.stepper,children:j.map((function(e){return Object(u.jsx)(Ke.a,{children:Object(u.jsx)(Ue.a,{children:e})},e)}))}),s===j.length?Object(u.jsx)(it,{message:t}):Object(u.jsx)(m,{})]})})})},ot=function(){var e=O(),t=Object(r.a)(e,2),a=t[0].user,n=t[1];return Object(i.useEffect)((function(){y.onAuthStateChanged((function(e){e&&n({type:k,user:e})}))}),[n,a]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(m.a,{children:[Object(u.jsx)(q,{}),Object(u.jsxs)(T.c,{children:[Object(u.jsx)(T.a,{path:"/ecommerce-React/register",children:Object(u.jsx)(Ee,{})}),Object(u.jsx)(T.a,{path:"/ecommerce-React/paycart",children:Object(u.jsx)(he,{})}),Object(u.jsx)(T.a,{path:"/ecommerce-React/paypage",children:Object(u.jsx)(st,{})}),Object(u.jsx)(T.a,{path:"/ecommerce-React/login",children:Object(u.jsx)(ke,{})}),Object(u.jsx)(T.a,{path:"/ecommerce-React/",children:Object(u.jsx)(oe,{})})]})]}),Object(u.jsx)(We,{})]})};c.a.render(Object(u.jsx)(p,{initialState:{basket:[],user:null,shippingData:{},paymentMessage:""},reducer:A,children:Object(u.jsx)(ot,{})}),document.getElementById("root"))}},[[206,1,2]]]);
//# sourceMappingURL=main.7b6990d6.chunk.js.map